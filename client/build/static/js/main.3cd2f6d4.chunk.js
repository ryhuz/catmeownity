(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{244:function(e,t,a){},260:function(e,t,a){},286:function(e,t){},288:function(e,t){},302:function(e,t){},304:function(e,t){},332:function(e,t){},334:function(e,t){},335:function(e,t){},340:function(e,t){},342:function(e,t){},361:function(e,t){},373:function(e,t){},376:function(e,t){},396:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a(43),r=a.n(s),i=(a(260),a(7)),o=a(417),l=a(249),d=a(10),j=a(20),u=a(176),b=a(53),h=a(14),x=a(5),m=a.n(x),O=a(11),p=a(404),f=a(403),g=a(245),v=a(418),y=a(401),w=a(414),k=a(402),N=a(413),C=a(406),A=a(405),B=a(407),D=a(408),S=a(415),I=a(419),E=a(409),P=a(410),F=a(412),T=a(9),L=a.n(T);var G=function(e){var t=e.cat,a=e.setCat,s=e.user,r=e.fetchCat,o=localStorage.getItem("token"),l=Object(j.h)().id;L.a.defaults.headers.common["x-auth-token"]=o,Object(n.useEffect)((function(){a(t)}),[]);var d=Object(n.useState)(!1),u=Object(i.a)(d,2),x=u[0],p=u[1],f=Object(n.useState)({names:t.cat.names,breed:t.cat.breed,gender:t.cat.gender,colour:t.cat.colour}),v=Object(i.a)(f,2),N=v[0],C=v[1],A=Object(n.useState)(""),B=Object(i.a)(A,2),D=B[0],S=B[1],I=Object(n.useState)(""),E=Object(i.a)(I,2),P=E[0],F=E[1],T=Object(n.useRef)();function G(e){C(Object(h.a)(Object(h.a)({},N),{},Object(b.a)({},e.target.name,e.target.value))),"names"===e.target.name?""!==e.target.value&&S(e.target.value):"colours"===e.target.name&&""!==e.target.value&&F(e.target.value)}Object(n.useEffect)((function(){return document.addEventListener("mousedown",U),function(){document.removeEventListener("mousedown",U)}}),[]);var U=function(e){T.current.contains(e.target)||p(!1)};function Y(){return(Y=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.cat.names.length>1)){e.next=8;break}return t.cat.names.shift(),t.cat.names.unshift(D),e.next=6,L.a.put("/api/auth/cats/".concat(l),{names:t.cat.names,gender:N.gender,breed:N.breed,colour:N.colour});case 6:e.next=17;break;case 8:if(!(t.cat.colours.length>1)){e.next=15;break}return t.cat.colours.shift(),t.cat.colours.unshift(P),e.next=13,L.a.put("/api/auth/cats/".concat(l),{names:t.cat.names,gender:N.gender,breed:N.breed,colour:t.cat.colours});case 13:e.next=17;break;case 15:return e.next=17,L.a.put("/api/auth/cats/".concat(l),N);case 17:p(!1),r(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function M(){var e=t.cat.names.slice(1);return Object(c.jsx)(c.Fragment,{children:e.map((function(e,a){return Object(c.jsxs)("span",{className:"font-italic h5 badge badge-pill badge-secondary",children:[e,s&&x&&Object(c.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){Object(O.a)(m.a.mark((function e(){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.cat.names[a+1],e.next=3,L.a.put("/api/auth/cats/delname/".concat(l),{names:c});case 3:p(!0),r();case 5:case"end":return e.stop()}}),e)})))()},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]},a)}))})}function H(){var e=t.cat.colours;return Object(c.jsx)(c.Fragment,{children:e.map((function(e,a){return Object(c.jsxs)("span",{className:"font-italic h5 badge badge-pill badge-secondary",children:[e,s&&x&&Object(c.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){Object(O.a)(m.a.mark((function e(){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.cat.colours[a],e.next=3,L.a.put("/api/auth/cats/delcolour/".concat(l),{colours:c});case 3:p(!0),r();case 5:case"end":return e.stop()}}),e)})))()},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]},a)}))})}function V(){return(V=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/cats/name/".concat(l),{names:D});case 3:document.querySelector("#addNameInput").value="",r(),p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(){return(R=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/cats/colour/".concat(l),{colours:P});case 3:r(),p(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function q(){return(q=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/cats/".concat(l,"/missing"));case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function J(){return(J=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/cats/".concat(l,"/found"));case 3:r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.jsx)(g.a,{ref:T,children:x?Object(c.jsxs)("div",{children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Not everyone calls this kitty ".concat(t.cat.names[0]),defaultValue:t.cat.names[0],onChange:G,name:"names","aria-describedby":"basic-addon2",id:"addNameInput"}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:function(){return V.apply(this,arguments)},children:"Add"})})]}),t.cat.names.length>1&&Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{className:"text-light",children:"Also known as:"}),Object(c.jsx)("div",{children:M()})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{className:"text-light",children:"Gender:"}),Object(c.jsx)("div",{className:"h5",children:Object(c.jsxs)(w.a.Control,{as:"select",type:"select",onChange:G,defaultValue:t.cat.gender,name:"gender",children:[Object(c.jsx)("option",{value:"",children:"Select One"}),Object(c.jsx)("option",{value:"Male",children:"Male"}),Object(c.jsx)("option",{value:"Female",children:"Female"}),Object(c.jsx)("option",{value:"Not Sure",children:"Not Sure"})]})})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{className:"text-light",children:"Breed:"}),Object(c.jsx)("div",{className:"h5",children:Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Enter breed of cat",onChange:G,defaultValue:t.cat.breed,name:"breed"})})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{className:"text-light",children:"Colour:"}),Object(c.jsxs)("div",{className:"h5",children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Enter colour of cat",onChange:G,defaultValue:t.cat.colour,name:"colours","aria-describedby":"basic-addon2"}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:function(){return R.apply(this,arguments)},children:"Add"})})]}),H()]})]}),Object(c.jsx)("div",{className:"d-flex justify-content-between",children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:function(){return Y.apply(this,arguments)},children:"Update"})})]}):Object(c.jsxs)("div",{className:"text-light",children:[Object(c.jsx)("h1",{className:"my-2",children:t.cat.names[0]}),t.cat.names.length>1&&Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{children:"Also known as:"}),Object(c.jsx)("div",{children:M()})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{children:"Gender:"}),Object(c.jsx)("div",{className:"h5",children:t.cat.gender})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{children:"Breed:"}),Object(c.jsx)("div",{className:"h5",children:t.cat.breed})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{children:"Colour:"}),Object(c.jsx)("div",{className:"h5",children:H()})]}),s?Object(c.jsxs)("div",{children:[Object(c.jsx)(k.a,{id:"btn-edit-cat",variant:"secondary",onClick:function(){return p(!0)},children:"Edit"}),t.cat.missing?Object(c.jsx)(k.a,{className:"mx-2",variant:"outline-success",onClick:function(){return J.apply(this,arguments)},children:"Saw this kitty somewhere?"}):Object(c.jsx)(k.a,{id:"btn-cat-missing",className:"mx-2",variant:"outline-danger",onClick:function(){return q.apply(this,arguments)},children:"Haven't seen this kitty lately?"})]}):Object(c.jsx)("div",{})]})})},U=a(27);var Y=function(e){var t=e.setNeedToLogIn,a=e.location;return localStorage.setItem("location",a),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Oops!"})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("p",{children:"You need to log in for that"}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)(d.c,{to:"/login",className:"btn btn-block btn-secondary",children:"Login"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(d.c,{to:"/register",className:"btn btn-block btn-primary",children:"Register"})})]})]}),Object(c.jsx)(N.a.Footer,{children:Object(c.jsx)(f.a,{children:Object(c.jsx)("small",{className:"nav-link",onClick:function(){return t(!1)},children:"Nah I'm good"})})})]})},M=a(248);var H=function(e){var t=e.setConfirmDel,a=e.delComment;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:"Delete Comment?"})}),Object(c.jsx)(N.a.Body,{className:"p-4",children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-danger",onClick:a,children:"Yes"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-secondary",onClick:function(){return t(!1)},children:"No"})})]})})]})};var V=function(e){var t=e.desc,s=e.fetchCat,r=localStorage.getItem("token"),o=Object(U.decode)(r);L.a.defaults.headers.common["x-auth-token"]=r;var l=Object(j.h)().id,u=Object(n.useState)(!1),b=Object(i.a)(u,2),h=b[0],x=b[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),k=w[0],C=w[1],A=a(122);function B(){return(B=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("/api/auth/comment/".concat(t._id,"/").concat(o.user._id,"/").concat(l));case 3:s(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){o&&o.user._id===t.byUser._id?x(!0):x(!1)}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(M.a,{children:Object(c.jsxs)("div",{className:"d-flex bd-highlight mb-3",children:[Object(c.jsx)("div",{className:"font-weight-bold p-2 bd-highlight",children:Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",exact:!0,to:"/profile/".concat(t.byUser._id),children:t.byUser&&t.byUser.name})}),Object(c.jsx)("div",{className:"font-weight-bold p-2 bd-highlight",children:t.catDescription}),Object(c.jsxs)("div",{className:"d-flex text-muted ml-auto p-2 bd-highlight",children:[Object(c.jsx)("div",{children:A(t.createdAt).fromNow()}),Object(c.jsx)("div",{className:"mx-4",children:h&&Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return e=t._id,v(!0),void C(e);var e},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})})]})]})}),Object(c.jsx)(N.a,{show:g,onHide:function(){return v(!1)},children:Object(c.jsx)(H,{setConfirmDel:v,delComment:function(){return function(){return B.apply(this,arguments)}(k)}})})]})},R=a.p+"static/media/nocatpic.88101b1b.png",q=a(253),J=a(246),Q=a.p+"static/media/loading.062aeb16.gif";var K=function(){return Object(c.jsx)(p.a,{className:"text-center pt-5",children:Object(c.jsx)(A.a,{src:Q,width:"100%"})})};var W=function(e){var t=e.setUploadingPhoto,a=e.defaultPhoto,s=e.id,r=e.addPhoto,o=e.user,l=Object(n.useState)({file:null,url:null}),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),x=Object(i.a)(b,2),p=x[0],v=x[1],C=Object(n.useState)({photo:"",desc:""}),B=Object(i.a)(C,2),D=B[0],S=B[1],I=Object(n.useState)(!1),E=Object(i.a)(I,2),P=E[0],F=E[1];function T(){return(T=Object(O.a)(m.a.mark((function e(){var c,n,i,l,d,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==j.file){e.next=3;break}return S(Object(h.a)(Object(h.a)({},D),{},{photo:"Please select a photo!"})),e.abrupt("return");case 3:if(""!==p){e.next=6;break}return S(Object(h.a)(Object(h.a)({},D),{},{desc:"Please enter a description!"})),e.abrupt("return");case 6:return F(!0),null!==a&&void 0!==a||(c=!0),e.prev=8,(n=new FormData).append("file",j.file),n.append("upload_preset","catmeownity_cat"),"https://api.cloudinary.com/v1_1/ryhuz/image/upload",(i=L.a.create()).defaults.headers.common={},e.next=17,i.post("https://api.cloudinary.com/v1_1/ryhuz/image/upload",n);case 17:return l=e.sent,d=l.data.secure_url,u={image:d,isDefault:c,desc:p,uploadedBy:o.user._id},e.next=22,L.a.put("/api/auth/cats/addphoto/".concat(s),u);case 22:t(!1),F(!1),r(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(8),F(!1);case 30:case"end":return e.stop()}}),e,null,[[8,27]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Upload cat photo"})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("p",{children:"Choose a photo, add a description, and upload!"}),j.file&&Object(c.jsx)("div",{className:"text-center profile-image-upload my-4",children:Object(c.jsx)(A.a,{src:j.url,width:"50%",height:"auto"})}),Object(c.jsx)(f.a,{children:Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(y.a,{className:"border p-2 justify-content-between",children:[Object(c.jsx)(q.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&u({file:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}}),Object(c.jsx)(y.a.Append,{children:j.file&&Object(c.jsx)("span",{className:"btn pr-3 pt-1 text-danger",onClick:function(){P||(document.querySelector(".form-control-file").value=null,u({file:null,url:null}))},children:"Remove upload"})})]}),""!==D.photo&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"text-danger ml-2",children:D.photo})})]})}),j.file&&Object(c.jsx)(f.a,{children:Object(c.jsxs)(g.a,{children:[Object(c.jsx)(y.a,{className:"p-2 justify-content-between",children:Object(c.jsx)(J.a,{type:"text",name:"desc",onChange:function(e){v(e.target.value),""===D.photo&&""===D.desc||S({photo:"",desc:""})},placeholder:"A short sentence about the photo"})}),""!==D.desc&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"text-danger ml-2",children:D.desc})})]})}),P&&Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(K,{})})}),Object(c.jsxs)(f.a,{className:"mt-3",children:[Object(c.jsx)(g.a,{sm:6}),Object(c.jsx)(g.a,{children:Object(c.jsx)(k.a,{block:!0,variant:"secondary",onClick:function(){return T.apply(this,arguments)},disabled:P,children:"Upload"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(k.a,{block:!0,variant:"danger",onClick:function(){return t(!1)},disabled:P,children:"Cancel"})})]})]})]})};var z=function(e){var t=e.setConfirmDel,a=e.delPhoto;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:"Delete this photo?"})}),Object(c.jsx)(N.a.Body,{className:"p-4",children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-danger",onClick:a,children:"Yes"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-secondary",onClick:function(){return t(!1)},children:"No"})})]})})]})};var Z=function(e){var t=e.cat,a=e.user,s=e.fetchCat,r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),b=u[0],h=u[1];function x(){return(x=Object(O.a)(m.a.mark((function e(a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.cat._id,e.prev=1,e.next=4,L.a.put("/api/auth/cats/delphoto/".concat(c),{image:a});case 4:h(!1),s(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[t.cat.photos.map((function(e){return Object(c.jsx)(g.a,{children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(A.a,{thumbnail:!0,rounded:!0,src:e.image,className:"img-responsive",width:"100%"}),Object(c.jsxs)(I.a.Body,{className:"d-flex justify-content-between",children:[Object(c.jsxs)("div",{children:[e.desc,Object(c.jsx)("div",{children:Object(c.jsxs)("code",{className:"text-dark",children:["-",e.uploadedBy.name]})})]}),a&&Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",className:"close text-danger","aria-label":"Close",onClick:function(){return function(e){h(!0),d(e)}(e.image)},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})})]})]})},e._id)})),Object(c.jsx)(N.a,{show:b,onHide:function(){return h(!1)},children:Object(c.jsx)(z,{setConfirmDel:h,delPhoto:function(){return function(e){return x.apply(this,arguments)}(l)}})})]})};var X=function(){var e=localStorage.getItem("token"),t=Object(U.decode)(e);L.a.defaults.headers.common["x-auth-token"]=e;var s=Object(j.h)().id,r=Object(n.useState)({cat:null,defaultPhoto:null,found:!1}),o=Object(i.a)(r,2),l=o[0],x=o[1],T=Object(n.useState)([]),M=Object(i.a)(T,2),H=M[0],q=M[1],J=Object(n.useState)(!1),Q=Object(i.a)(J,2),K=Q[0],z=Q[1],X=Object(n.useState)({}),_=Object(i.a)(X,2),$=_[0],ee=_[1],te=Object(n.useState)(!1),ae=Object(i.a)(te,2),ce=ae[0],ne=ae[1],se=Object(n.useState)(!1),re=Object(i.a)(se,2),ie=re[0],oe=re[1],le=Object(n.useState)(),de=Object(i.a)(le,2),je=de[0],ue=de[1],be=Object(j.g)(),he=a(122);function xe(){return me.apply(this,arguments)}function me(){return(me=Object(O.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/public/cat/".concat(s));case 3:(t=e.sent).data.cat.photos.length>0&&(a=t.data.cat.photos.find((function(e){return e.isDefault}))),x({cat:t.data.cat,defaultPhoto:a,found:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Oe(){return pe.apply(this,arguments)}function pe(){return(pe=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return z(!0),e.abrupt("return");case 3:if(!H.includes(s)){e.next=11;break}return e.next=6,L.a.put("/api/auth/user/".concat(t.user._id,"/unfavourite/").concat(s));case 6:(a=Object(u.a)(H)).splice(a.indexOf(s),1),q(a),e.next=20;break;case 11:return e.prev=11,e.next=14,L.a.put("/api/auth/user/".concat(t.user._id,"/favourite/").concat(s));case 14:q([].concat(Object(u.a)(H),[s])),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.log(e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[11,17]])})))).apply(this,arguments)}function fe(){return ge.apply(this,arguments)}function ge(){return(ge=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return z(!0),e.abrupt("return");case 3:return e.prev=3,e.next=6,L.a.post("/api/auth/comment/".concat(s,"/desc/").concat(t.user._id),$);case 6:document.querySelector("#catDescriptionInput").value="",xe(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function ve(){return ye.apply(this,arguments)}function ye(){return(ye=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return z(!0),e.abrupt("return");case 3:return e.prev=3,e.next=6,L.a.post("/api/auth/cats/".concat(t.user._id,"/feed/").concat(s),je);case 6:xe(),document.querySelector("#overlaybtn").click(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/auth/user/get-favourites/".concat(t.user._id));case 3:a=e.sent,q(a.data.favourites),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){xe()}),[s]),Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=4;break}return e.abrupt("return","0");case 4:return e.abrupt("return","1");case 5:case"end":return e.stop()}}),e)})))(ie);var we=Object(c.jsxs)(v.a,{id:"popover-basic",children:[Object(c.jsx)(v.a.Title,{as:"h3",children:"Log the feeding"}),Object(c.jsx)(v.a.Content,{children:Object(c.jsxs)(y.a,{className:"my-3",children:[Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Food Description",name:"foodDescription","aria-describedby":"basic-addon2",onChange:function(e){ue(Object(h.a)(Object(h.a)({},je),{},Object(b.a)({},e.target.name,e.target.value)))},onKeyDown:function(e){"Enter"===e.key&&ve()}}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:ve,children:"Add"})})]})})]});return Object(c.jsx)(c.Fragment,{children:l.found&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a,{show:K,onHide:function(){return z(!1)},children:Object(c.jsx)(Y,{setNeedToLogIn:z,location:be.pathname})}),Object(c.jsx)(N.a,{show:ce,onHide:function(){return ne(!1)},size:"lg",children:Object(c.jsx)(W,{setUploadingPhoto:ne,defaultPhoto:l.defaultPhoto,addPhoto:function(){xe()},id:s,user:t})}),Object(c.jsxs)(C.a,{className:"jumbocat",children:[Object(c.jsx)(p.a,{children:Object(c.jsxs)(f.a,{id:"cat-holder",children:[Object(c.jsxs)(g.a,{children:[Object(c.jsx)(A.a,{thumbnail:!0,src:l.defaultPhoto?l.defaultPhoto.image:R,className:"rounded thumbnail img-responsive mx-auto d-block ",width:"70%"}),!l.defaultPhoto&&Object(c.jsxs)(f.a,{xs:1,children:[Object(c.jsxs)(g.a,{className:"text-center py-2",children:[l.cat.names[0]," doesn't have a picture yet."]}),Object(c.jsx)(g.a,{className:"text-center",children:Object(c.jsx)("div",{className:"btn btn-success",onClick:function(){t?ne(!0):z(!0)},children:"Add their first photo!"})})]}),Object(c.jsx)("div",{className:"text-center h4 mt-3",children:H.includes(s)?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(k.a,{id:"btn-unfollowing-cat",variant:"outline-danger",onClick:Oe,children:[Object(c.jsx)("i",{className:"fas fa-heart mx-2"})," Following this cat"]})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(k.a,{id:"btn-follow-cat",variant:"secondary",onClick:Oe,children:[Object(c.jsx)("i",{className:"fas fa-cat mx-2"})," Follow this cat"]})})})]}),Object(c.jsx)(G,{cat:l,setCat:x,user:t,fetchCat:xe})]})}),function(){if(l.cat.missing)return Object(c.jsx)(p.a,{className:"bg-danger mt-3",children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{sm:5,children:Object(c.jsx)("h5",{className:"mt-4 text-right",children:"Missing Cat"})}),Object(c.jsx)(g.a,{children:Object(c.jsxs)("h6",{className:"p-3",children:["This cat hasn't been seen in a while.",Object(c.jsx)("br",{}),"Please contact us if you know of its whereabouts"]})})]})})}()]}),Object(c.jsx)(p.a,{children:Object(c.jsxs)(B.a,{defaultActiveKey:"comment",id:"uncontrolled-tab-example",children:[Object(c.jsx)(D.a,{eventKey:"comment",title:"Comments",children:Object(c.jsx)(S.a,{defaultActiveKey:"0",className:"scroll",children:Object(c.jsxs)(I.a,{children:[Object(c.jsxs)(I.a.Header,{children:[!1===ie&&Object(c.jsx)("div",{children:l.cat.desc.slice(0,3).map((function(e){return Object(c.jsx)(V,{desc:e,fetchCat:xe},e._id)}))}),l.cat.desc.length>3&&Object(c.jsx)(S.a.Toggle,{className:"text-muted",as:k.a,variant:"link",eventKey:"1",onClick:function(){return oe(!ie)},children:ie?"close":"show all comments..."})]}),Object(c.jsx)(S.a.Collapse,{eventKey:"1",children:Object(c.jsx)(I.a.Body,{children:Object(c.jsx)(E.a,{children:l.cat.desc.map((function(e){return Object(c.jsx)(V,{desc:e,fetchCat:xe},e._id)}))})})}),Object(c.jsx)(I.a.Body,{children:Object(c.jsxs)(y.a,{children:[Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Enter your comment",name:"catDescription","aria-describedby":"basic-addon2",onChange:function(e){ee(Object(h.a)(Object(h.a)({},$),{},Object(b.a)({},e.target.name,e.target.value)))},id:"catDescriptionInput",onKeyDown:function(e){"Enter"===e.key&&fe()}}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:fe,children:"Add"})})]})})]})})}),Object(c.jsx)(D.a,{eventKey:"photos",title:"Photo",children:Object(c.jsx)(S.a,{defaultActiveKey:"0",children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(I.a.Header,{children:Object(c.jsx)(S.a.Toggle,{className:"text-muted",as:k.a,variant:"link",eventKey:"0",children:"More photos"})}),Object(c.jsx)(S.a.Collapse,{eventKey:"0",children:Object(c.jsx)(I.a.Body,{className:"mx-auto",children:Object(c.jsxs)(f.a,{md:4,sm:2,className:"mx-5",children:[t&&Object(c.jsx)(g.a,{children:Object(c.jsxs)(I.a,{onClick:function(){return ne(!0)},children:[Object(c.jsx)(A.a,{thumbnail:!0,rounded:!0,src:R,className:"to-link",width:"100%"}),Object(c.jsx)(I.a.Body,{className:"my-2 py-4",children:Object(c.jsxs)("div",{className:"to-link",children:[Object(c.jsx)("i",{className:"fas fa-plus"})," Add a new photo"]})})]})}),Object(c.jsx)(Z,{cat:l,user:t,fetchCat:xe})]})})})]})})}),Object(c.jsx)(D.a,{eventKey:"feeding",title:"Feeding",children:Object(c.jsx)(g.a,{className:"border",children:Object(c.jsx)(P.a,{borderless:!0,size:"lg",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Last fed:"}),Object(c.jsx)("td",{className:"align-middle",children:l.cat.fed.length>0?Object(c.jsx)(c.Fragment,{children:l.cat.fed.slice(0,3).map((function(e,t){return Object(c.jsxs)("li",{children:["Fed ".concat(e.foodDescription," ").concat(he(e.createdAt).fromNow()," by "),Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/profile/".concat(e.byUser._id),children:e.byUser&&e.byUser.name})]},t)}))}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("span",{children:"Not Sure"})})})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Residing:"}),Object(c.jsx)("td",{children:"".concat(l.cat.location.district.name,", ").concat(l.cat.location.street)})]}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:Object(c.jsx)(F.a,{trigger:"click",placement:"right",overlay:we,children:Object(c.jsx)(k.a,{variant:"outline-secondary",id:"overlaybtn",children:"Fed this kitty?"})})})})]})})})})]})})]})})},_="data:image/png;base64,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";var $=function(e){var t=e.setUploadingPhoto,a=e.id,s=e.addPhoto,r=Object(n.useState)({file:null,url:null}),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)({photo:"",desc:""}),u=Object(i.a)(j,2),b=u[0],x=u[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),C=v[0],B=v[1];function D(){return(D=Object(O.a)(m.a.mark((function e(){var c,n,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==l.file){e.next=3;break}return x(Object(h.a)(Object(h.a)({},b),{},{photo:"Please select a photo!"})),e.abrupt("return");case 3:return B(!0),e.prev=4,(c=new FormData).append("file",l.file),c.append("upload_preset","catmeownity_user"),"https://api.cloudinary.com/v1_1/ryhuz/image/upload",(n=L.a.create()).defaults.headers.common={},e.next=13,n.post("https://api.cloudinary.com/v1_1/ryhuz/image/upload",c);case 13:return r=e.sent,i=r.data.secure_url,e.next=17,L.a.put("/api/auth/user/addphoto/".concat(a),{image:i});case 17:t(!1),B(!1),s(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),B(!1);case 25:case"end":return e.stop()}}),e,null,[[4,22]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Upload photo of yourself"})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("p",{children:"Choose a photo and upload!"}),l.file&&Object(c.jsx)("div",{className:"text-center profile-image-upload my-4",children:Object(c.jsx)(A.a,{src:l.url,width:"50%",height:"auto"})}),Object(c.jsx)(f.a,{children:Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(y.a,{className:"border p-2 justify-content-between",children:[Object(c.jsx)(q.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&d({file:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}}),Object(c.jsx)(y.a.Append,{children:l.file&&Object(c.jsx)("span",{className:"btn pr-3 pt-1 text-danger",onClick:function(){C||(document.querySelector(".form-control-file").value=null,d({file:null,url:null}))},children:"Remove upload"})})]}),""!==b.photo&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"text-danger ml-2",children:b.photo})})]})}),C&&Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(K,{})})}),Object(c.jsxs)(f.a,{className:"mt-3",children:[Object(c.jsx)(g.a,{sm:6}),Object(c.jsx)(g.a,{children:Object(c.jsx)(k.a,{block:!0,variant:"secondary",onClick:function(){return D.apply(this,arguments)},disabled:C,children:"Upload"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)(k.a,{block:!0,variant:"danger",onClick:function(){return t(!1)},disabled:C,children:"Cancel"})})]})]})]})};var ee=function(e){var t=e.location,a=e.setConfirmUntrack,n=e.untrack;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:"Untracking location"})}),Object(c.jsxs)(N.a.Body,{className:"p-4",children:[Object(c.jsxs)("p",{children:["Are you sure you want to untrack ",t]}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-danger",onClick:n,children:"Yes"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-secondary",onClick:function(){return a(!1)},children:"No"})})]})]})]})};var te=function(e){var t=e.location,a=e.fetchUser,s=e.ownProfile,r=localStorage.getItem("token"),o=Object(U.decode)(r);L.a.defaults.headers.common["x-auth-token"]=r;var l=Object(n.useState)(!1),j=Object(i.a)(l,2),u=j[0],b=j[1],h=Object(n.useState)({name:"",gender:"",ID:""}),x=Object(i.a)(h,2),p=x[0],f=x[1];function v(){return(v=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.put("/api/auth/user/".concat(o.user._id,"/untrack/").concat(t));case 2:a(),b(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a,{show:u,onHide:function(){return b(!1)},children:Object(c.jsx)(ee,{setConfirmUntrack:b,location:p.name,untrack:function(){return function(e){return v.apply(this,arguments)}(p.ID)}})}),Object(c.jsxs)("div",{className:"d-flex my-3",children:[Object(c.jsx)(d.c,{to:"/location/".concat(t._id),className:"btn btn-success btn-block",children:t.street}),s&&Object(c.jsx)("div",{className:"btn btn-outline-danger d-flex align-items-center",onClick:function(){return e=t.street,a=t._id,f({name:e,ID:a}),void b(!0);var e,a},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})};var ae=function(e){var t=e.setConfirmUnfollow,a=e.name,n=e.gender,s=e.unfollow;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsxs)(N.a.Title,{children:["Unfollowing ",a]})}),Object(c.jsxs)(N.a.Body,{className:"p-4",children:[Object(c.jsxs)("p",{children:["Are you sure you want to unfollow ","Not Sure"===n?"this cat":{Male:"him",Female:"her"}[n]]}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-danger",onClick:s,children:"Yes"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-secondary",onClick:function(){return t(!1)},children:"No"})})]})]})]})};var ce=function(e){var t=e.cat,a=e.fetchUser,s=e.ownProfile,r=localStorage.getItem("token"),o=Object(U.decode)(r);L.a.defaults.headers.common["x-auth-token"]=r;var l=Object(n.useState)(!1),j=Object(i.a)(l,2),u=j[0],b=j[1],h=Object(n.useState)({name:"",gender:"",ID:""}),x=Object(i.a)(h,2),p=x[0],f=x[1];function v(){return(v=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.put("/api/auth/user/".concat(o.user._id,"/unfavourite/").concat(t));case 2:b(!1),a();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a,{show:u,onHide:function(){return b(!1)},children:Object(c.jsx)(ae,{setConfirmUnfollow:b,name:p.name,gender:p.gender,unfollow:function(){return function(e){return v.apply(this,arguments)}(p.ID)}})}),Object(c.jsxs)(I.a,{children:[Object(c.jsx)(d.c,{to:"/cat/".concat(t._id),children:Object(c.jsx)(A.a,{src:function(e){return e.photos.length>0?e.photos.find((function(e){return e.isDefault})).image:R}(t),width:"100%",className:"img-thumbnail"})}),Object(c.jsx)(I.a.Header,{className:"h5",children:Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/cat/".concat(t._id),children:t.names[0]})}),Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)("div",{children:t.location.street}),s&&Object(c.jsx)("div",{children:Object(c.jsxs)(k.a,{variant:"outline-danger",block:!0,onClick:function(){return e=t.names[0],a=t.gender,c=t._id,f({name:e,gender:a,ID:c}),void b(!0);var e,a,c},children:[Object(c.jsx)("i",{className:"fas fa-cat mx-2"}),"Unfollow this cat"]})})]})]})]},t._id)};var ne=function(e){var t=e.comment,n=a(122);return Object(c.jsxs)("li",{children:["".concat(t.catDescription," - "),Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/cat/".concat(t.forCat._id),children:t.forCat.names[0]}),Object(c.jsx)("div",{children:Object(c.jsx)("small",{className:"text-muted",children:n(t.createdAt).fromNow()})})]})};var se=function(e){var t=e.fed,n=a(122);return Object(c.jsxs)("li",{children:["".concat(t.foodDescription," - "),Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/cat/".concat(t.forCat._id),children:t.forCat.names[0]}),Object(c.jsx)("div",{children:Object(c.jsx)("small",{className:"text-muted",children:n(t.createdAt).fromNow()})})]})};var re=function(e){var t=e.setConfirmDelPhoto,a=e.delPhoto;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:"Delete your profile picture?"})}),Object(c.jsx)(N.a.Body,{className:"p-4",children:Object(c.jsxs)(f.a,{children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-danger",onClick:a,children:"Yes"})}),Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"btn btn-block btn-outline-secondary",onClick:function(){return t(!1)},children:"No"})})]})})]})};var ie=function(){var e=localStorage.getItem("token"),t=Object(j.h)().id,a=Object(U.decode)(e);L.a.defaults.headers.common["x-auth-token"]=e;var s=Object(n.useRef)(),r=Object(n.useState)({user:null,found:!1}),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(n.useState)(!1),x=Object(i.a)(u,2),v=x[0],y=x[1],B=Object(n.useState)({}),D=Object(i.a)(B,2),S=D[0],E=D[1],F=Object(n.useState)(!1),T=Object(i.a)(F,2),G=T[0],Y=T[1],M=Object(n.useState)(!1),H=Object(i.a)(M,2),V=H[0],R=H[1],q=Object(n.useState)(!1),J=Object(i.a)(q,2),Q=J[0],K=J[1];function W(){return z.apply(this,arguments)}function z(){return(z=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/user/".concat(t));case 3:a=e.sent,d({user:a.data.user,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(n.useEffect)((function(){W()}),[t]),Object(n.useEffect)((function(){return V&&document.addEventListener("mousedown",Z),function(){document.removeEventListener("mousedown",Z)}}),[V]),Object(n.useEffect)((function(){l.found&&e&&(l.user._id===a.user._id?(R(!0),E({name:l.user.name,email:l.user.email})):R(!1))}),[l]);var Z=function(e){s&&s.current.contains(e.target)||y(!1)};function X(e){E(Object(h.a)(Object(h.a)({},S),{},Object(b.a)({},e.target.name,e.target.value)))}function ee(){return(ee=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/user/".concat(t),S);case 3:y(!1),W(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ae(){return(ae=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete("/api/auth/user/delphoto/".concat(l.user._id));case 3:K(!1),W(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[l.found&&Object(c.jsx)(C.a,{className:"bg-dark jumbocat",children:Object(c.jsx)(p.a,{children:Object(c.jsx)("div",{id:"profile-name",children:Object(c.jsx)("h3",{className:"mt-4 text-white",children:"".concat(l.user.name,"'s Profile")})})})}),l.found&&Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a,{show:G,onHide:function(){return Y(!1)},size:"lg",children:Object(c.jsx)($,{setUploadingPhoto:Y,addPhoto:function(){W()},id:t})}),Object(c.jsx)(N.a,{show:Q,onHide:function(){return K(!1)},children:Object(c.jsx)(re,{setConfirmDelPhoto:K,delPhoto:function(){return ae.apply(this,arguments)}})}),v?Object(c.jsx)("div",{children:Object(c.jsxs)(p.a,{className:"d-flex flex-row border",children:[Object(c.jsx)(f.a,{className:"p-3",children:Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{children:Object(c.jsx)(A.a,{className:"mx-auto p-4",src:l.user.image?l.user.image:_,roundedCircle:!0})})})}),Object(c.jsx)(f.a,{className:"mt-4",ref:s,children:Object(c.jsxs)(g.a,{className:"m-4",children:[Object(c.jsx)("small",{children:"Name:"}),Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Enter name",defaultValue:l.user.name,onChange:X,name:"name","aria-describedby":"basic-addon2"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("small",{children:"Email:"}),Object(c.jsx)("div",{className:"h5",children:Object(c.jsx)(w.a.Control,{type:"text",placeholder:"Enter email",onChange:X,defaultValue:l.user.email,name:"email"})})]}),Object(c.jsx)("div",{className:"d-flex justify-content-between",children:Object(c.jsx)(k.a,{variant:"dark",onClick:function(){return ee.apply(this,arguments)},children:"Update"})})]})})]})}):Object(c.jsxs)(p.a,{className:"d-flex flex-row border",children:[Object(c.jsx)(f.a,{className:"p-3",children:Object(c.jsxs)(g.a,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(A.a,{className:"mx-auto p-4",src:l.user.image?l.user.image:_,roundedCircle:!0})}),!l.user.image&&V&&Object(c.jsxs)("div",{children:[Object(c.jsx)(g.a,{className:"text-center py-2",children:"You don't have a picture yet."}),Object(c.jsx)(g.a,{className:"text-center",children:Object(c.jsx)("div",{className:"btn btn-success",onClick:function(){return Y(!0)},children:"Add your first photo!"})})]}),V&&l.user.image&&Object(c.jsxs)(g.a,{xs:11,className:"mx-auto d-flex",children:[Object(c.jsx)(k.a,{id:"btn-change-picture",block:!0,variant:"outline-dark",size:"sm",className:"my-1 mr-1",onClick:function(){return Y(!0)},children:"Change Picture"}),Object(c.jsx)(k.a,{id:"btn-remove-picture",block:!0,variant:"outline-danger",size:"sm",className:"my-1 ml-1",onClick:function(){return K(!0)},children:"Remove Picture"})]}),V&&Object(c.jsx)(g.a,{xs:11,className:"mx-auto",children:Object(c.jsx)(k.a,{id:"btn-edit-profile",block:!0,variant:"dark",className:"my-1",ref:s,onClick:function(){return y(!0)},children:"Edit Profile"})})]})}),Object(c.jsx)(f.a,{className:"mt-4",children:Object(c.jsx)(g.a,{className:"m-4",children:Object(c.jsxs)("div",{children:[Object(c.jsx)(P.a,{borderless:!0,size:"lg",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Name: "})}),Object(c.jsxs)("td",{children:[" ",l.user.name," "]})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Email: "})}),Object(c.jsxs)("td",{children:[" ",l.user.email,"  "]})]})]})})," "]})})})]})]}),l.found&&Object(c.jsx)(p.a,{className:"d-flex border border-dark mt-4 mb-4 justify-content-between bd-highlight",children:Object(c.jsxs)(f.a,{className:"mt-4",children:[Object(c.jsx)(g.a,{children:Object(c.jsx)(I.a,{className:"mb-3 mx-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(I.a.Title,{children:"Most recent favourites"}),l.user.favourites.slice(0,3).map((function(e){return Object(c.jsx)(ce,{cat:e,fetchUser:W,ownProfile:V})}))]})})}),Object(c.jsxs)(g.a,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{className:"mb-3 mx-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(I.a.Title,{children:"Most recent tracked locations"}),l.user.trackedLocations.slice(0,3).map((function(e){return Object(c.jsx)(te,{location:e,fetchUser:W,ownProfile:V})}))]})})}),Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{className:"mb-3 mx-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(I.a.Title,{children:"Most recent cativities"}),Object(c.jsx)(I.a,{children:Object(c.jsxs)(I.a.Body,{children:["Most recent comments",Object(c.jsx)("ul",{children:l.user.descForCats.slice(0,3).map((function(e){return Object(c.jsx)(ne,{comment:e})}))})]})}),Object(c.jsx)(I.a,{children:Object(c.jsxs)(I.a.Body,{children:["Most recent feeding",Object(c.jsx)("ul",{children:l.user.fed.slice(0,3).map((function(e){return Object(c.jsx)(se,{fed:e})}))})]})})]})})})]})]})})]})},oe=a(416);a(244);var le=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{id:"jumbo",className:"text-center jumbotop",children:Object(c.jsxs)(g.a,{xs:5,className:"mx-auto",children:[Object(c.jsxs)(p.a,{id:"title-container",className:"py-2",children:[Object(c.jsx)("h1",{className:"text-black my-3",children:"CatMeownity"}),Object(c.jsx)("p",{className:"text-dark",children:"Neighbourhood and community cats in an app"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(d.c,{id:"btn-search-community",to:"/search",className:"btn btn-block btn-dark btn-lg mt-5",children:"Search for a community with cats"})})]})}),Object(c.jsx)("div",{className:"learn-container",children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)("h4",{className:"text-center p-4",children:"Learn more about cats"}),Object(c.jsx)(oe.a,{children:[{header:"What are cats' whiskers for?",trivia:"Cats use their whiskers to navigate through the world. They use them to help determine if \n            they can fit in a small space because their whiskers are approximately the same width as \n            their body. This is why you shouldn\u2019t cut your cat\u2019s whiskers."},{header:"Wild cat?",trivia:"Cat\u2019s share 95.6 percent of their genome with tigers and demonstrate several of the same behaviors."},{header:"Play time!",trivia:"Cats with a question mark-shaped tail are feeling playful."},{header:"Why are you hitting me?",trivia:"A cat batting you with paws (and not claws) is playing and not attacking."},{header:"How many?",trivia:"A group of cats can be called a \u201cclowder,\u201d \u201cclutter,\u201d \u201cglaring\u201d and \u201cpounce.\u201d"},{header:"Meow",trivia:"Cats have as many as 100 different vocalizations while dogs only have 10."},{header:"Danger, Will Robinson",trivia:"Unlike dogs, beware a cat that is wagging their tail!"},{header:"Bath time",trivia:"Grooming themselves helps cats relax, stimulate their blood flow and regulate their body temperature."},{header:"Toilet time",trivia:"Cats prefer to have a litter box for themselves so have one for each of your kitties."}].map((function(e,t){return Object(c.jsxs)(oe.a.Item,{children:[Object(c.jsx)("img",{id:"trivia".concat(t),className:"d-block w-100",src:"https://images.pexels.com/photos/35888/amazing-beautiful-breathtaking-clouds.jpg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"}),Object(c.jsxs)(oe.a.Caption,{children:[Object(c.jsx)("h3",{children:e.header}),Object(c.jsx)("p",{children:e.trivia})]})]},t)}))})]})})]})};var de=function(e){var t=e.validLogIn,a=Object(n.useState)({cats:[],street:"",found:!1}),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(j.h)().locationID;function u(e){return 0===e.photos.length?R:e.photos.find((function(e){return e.isDefault})).image}return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/public/cats/".concat(l));case 3:t=e.sent,o({cats:t.data.cats,street:t.data.location,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{className:"bg-secondary jumboboard",children:Object(c.jsxs)("div",{className:"ml-5 pl-5 text-white",children:[Object(c.jsx)("h1",{children:"Cats in the area"}),Object(c.jsxs)("h4",{children:["~",r.street,"~"]})]})}),Object(c.jsx)(p.a,{className:"my-5",children:Object(c.jsxs)(f.a,{children:[t.valid&&Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(g.a,{sm:3,className:"mb-3",children:[Object(c.jsx)(d.c,{to:"/newcat/".concat(l,"/"),className:"text-center",children:Object(c.jsx)(A.a,{src:R,width:"100%",className:"img-thumbnail border border-dark"})}),Object(c.jsx)(I.a,{className:"border border-dark",children:Object(c.jsx)(I.a.Header,{children:Object(c.jsxs)(d.c,{to:"/newcat/".concat(l,"/"),className:"h6 nav-link",children:[Object(c.jsx)("i",{className:"fas fa-plus"})," Add a new cat"]})})})]})}),function(){if(r.found)return r.cats.length>0?Object(c.jsx)(c.Fragment,{children:r.cats.map((function(e){return Object(c.jsxs)(g.a,{sm:3,className:"mb-3",children:[Object(c.jsx)(d.c,{to:"/cat/".concat(e._id),className:"text-center",children:Object(c.jsx)(A.a,{src:u(e),width:"100%",className:"img-thumbnail"})}),Object(c.jsx)(I.a,{children:Object(c.jsx)(I.a.Header,{children:Object(c.jsx)(d.c,{to:"/cat/".concat(e._id),className:"h6 nav-link",children:e.names[0]})})})]},e._id)}))}):Object(c.jsx)(c.Fragment,{children:"No cats here yet. Would you like to add one?"})}()]})})]})},je=a(247);var ue=function(e){var t=e.district,a=e.setNewLocation,s=e.fetchLocation,r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)({street:""}),u=Object(i.a)(j,2),b=u[0],h=u[1],x=Object(n.useState)(!1),p=Object(i.a)(x,2),v=p[0],w=p[1],C=localStorage.getItem("token");function A(){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,L.a.post("/api/auth/location/".concat(t.id),b);case 4:d(!1),a(!1),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.exists&&w(!0),d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return L.a.defaults.headers.common["x-auth-token"]=C,Object(c.jsxs)("div",{className:"p-2",children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Add a new location"})}),Object(c.jsxs)(N.a.Body,{children:["You are adding a new location to ",Object(c.jsx)("span",{className:"h5",children:t.name})]}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsxs)(y.a,{className:"mb-3",children:[Object(c.jsx)(J.a,{placeholder:"Street name or Location",name:"street",onChange:function(e){h({street:e.target.value})},onKeyDown:function(e){"Enter"===e.key&&A()}}),Object(c.jsx)(y.a.Append,{children:Object(c.jsx)(k.a,{variant:"outline-secondary",onClick:A,children:"Submit"})})]}),v&&Object(c.jsx)(je.a,{className:"ml-2",children:Object(c.jsx)("small",{className:"text-danger",children:"Location already exists!"})}),l&&Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(K,{})})})]})]})};var be=function(e){var t=e.district,a=localStorage.getItem("token"),s=Object(U.decode)(a);L.a.defaults.headers.common["x-auth-token"]=a;var r=Object(n.useState)({locations:[],found:!1}),o=Object(i.a)(r,2),l=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),h=b[0],x=b[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),y=v[0],w=v[1],k=Object(n.useState)([]),C=Object(i.a)(k,2),A=C[0],B=C[1];function D(){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/auth/user/tracked/".concat(s.user._id));case 3:t=e.sent,B(t.data.tracked),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return P.apply(this,arguments)}function P(){return(P=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/public/location/".concat(t.id));case 3:a=e.sent,j({locations:a.data.locations,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(e,t){return T.apply(this,arguments)}function T(){return(T=Object(O.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put("/api/auth/user/".concat(s.user._id,"/").concat(a?"tracked":"untrack","/").concat(t));case 3:D(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){""!==t.id&&(E(),s&&D())}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Location"}),Object(c.jsx)("hr",{}),function(){if(l.found&&l.locations.length>0)return l.locations.sort((function(e,t){var a=e.street.toUpperCase(),c=t.street.toUpperCase();return a<c?-1:a>=c?1:null})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{md:3,children:l.locations.map((function(e){return Object(c.jsx)(g.a,{className:"mb-2",children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(d.c,{to:"/location/".concat(e._id),className:"btn btn-outline-primary",children:e.street}),s&&Object(c.jsx)(c.Fragment,{children:A.includes(e._id)?Object(c.jsx)("div",{className:"btn btn-outline-danger",onClick:function(){return F(e._id,!1)},children:"Tracked"}):Object(c.jsx)("div",{className:"btn btn-outline-secondary",onClick:function(){return F(e._id,!0)},children:"Track"})})]})},e._id)}))}),Object(c.jsx)("hr",{})]})}(),Object(c.jsxs)("li",{className:"d-flex flex-column nav-link",children:[Object(c.jsx)("p",{children:"Do we not have the location you're looking for?"}),Object(c.jsx)("p",{children:Object(c.jsx)("span",{id:"btn-add-search",className:"btn btn-secondary",onClick:function(){s?w(!0):x(!0)},children:"Add it here!"})})]}),Object(c.jsx)(N.a,{show:h,onHide:function(){return x(!1)},children:Object(c.jsx)(Y,{setNeedToLogIn:x})}),Object(c.jsx)(N.a,{show:y,onHide:function(){return w(!1)},size:"lg",centered:!0,children:Object(c.jsx)(ue,{setNewLocation:w,district:t,fetchLocation:E})})]})};var he=function(e){var t=e.area,a=Object(n.useState)({districts:[],found:!1}),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useState)({id:"",name:""}),d=Object(i.a)(l,2),j=d[0],u=d[1];return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/public/district/".concat(t));case 3:a=e.sent,o({districts:a.data.districts,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}u(""),function(){e.apply(this,arguments)}()}),[t]),Object(c.jsxs)(p.a,{children:[Object(c.jsx)("h1",{children:t}),Object(c.jsx)("hr",{}),Object(c.jsxs)(f.a,{className:"justify-content-center",children:[Object(c.jsxs)(g.a,{md:3,children:[Object(c.jsx)("h3",{children:"Districts"}),Object(c.jsx)("hr",{}),function(){if(r.found&&r.districts.length>0)return r.districts.sort((function(e,t){var a=e.name.toUpperCase(),c=t.name.toUpperCase();return a<c?-1:a>c?1:void 0})),Object(c.jsx)(c.Fragment,{children:r.districts.map((function(e){return Object(c.jsx)(f.a,{children:Object(c.jsx)(g.a,{className:"p-1",xs:8,children:Object(c.jsx)("div",{id:"btn-search-results",className:"btn btn-block ".concat(j===e._id?"btn-success":"btn-outline-secondary"),onClick:function(){u({id:e._id,name:e.name})},children:e.name})})},e._id)}))})}()]}),Object(c.jsx)(g.a,{md:9,children:""!==j&&Object(c.jsx)(be,{district:j})})]})]})};var xe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],r=["North","South","Central","East","West","North-East","North-West"];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{className:"jumboboard",children:Object(c.jsx)("div",{className:"ml-5 pl-5 text-white",children:Object(c.jsx)("h1",{children:"Search"})})}),Object(c.jsx)(p.a,{className:"my-5",children:Object(c.jsx)(f.a,{sm:4,xs:3,children:r.map((function(e,t){return Object(c.jsx)(g.a,{className:"my-2",children:Object(c.jsx)("div",{id:"btn-search",className:"btn ".concat(a===e?"btn-light":"btn-outline-dark"," btn-block"),onClick:function(){return s(e)},children:e})},t)}))})}),""!==a&&Object(c.jsx)(he,{area:a})]})},me=a(94),Oe=a(29),pe=function(e){var t=e.setValid,a=Object(n.useState)(!1),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useState)({msg:""}),d=Object(i.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)(null),x=Object(i.a)(h,2),v=x[0],N=x[1];if(r&&v)return Object(c.jsx)(j.a,{to:"".concat(v)});if(r)return Object(c.jsx)(j.a,{to:"/dashboard"});function A(e){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(m.a.mark((function e(a){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("/api/user/login",a);case 3:c=e.sent,localStorage.setItem("token",c.data.token),b({}),t({valid:!0,refreshed:!1}),o(!0),(n=localStorage.getItem("location"))&&(localStorage.removeItem("location"),N(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response),b(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{className:"jumboacc",children:Object(c.jsx)("div",{className:"ml-5 pl-5 jumboheader",children:Object(c.jsx)("h1",{children:"Login"})})}),Object(c.jsx)(p.a,{children:Object(c.jsx)(I.a,{className:"p-3 mx-auto mt-5",children:Object(c.jsx)(I.a.Body,{children:Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsxs)(g.a,{sm:8,children:[Object(c.jsx)("div",{className:"h3 mb-3",children:"Enter your user details"}),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(me.a,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Oe.a().shape({email:Oe.b().email("Please enter a valid email").required("Please enter your email"),password:Oe.b().required("Please enter your password")}),children:function(e){var t=e.values,a=e.touched,n=e.errors,s=e.isSubmitting,r=e.handleChange,i=e.handleBlur,o=e.handleSubmit;return Object(c.jsxs)(w.a,{onSubmit:o,children:[Object(c.jsx)(y.a,{className:"".concat(n.email&&a.email?"mb-1":"mb-3"),children:Object(c.jsx)(J.a,{id:"email",placeholder:"Enter your email",name:"email",type:"text",value:t.email,onChange:r,onBlur:i,onKeyDown:function(e){"Enter"===e.key&&o()},className:n.email&&a.email?"text-input error":"text-input"})}),n.email&&a.email&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.email}),Object(c.jsx)(y.a,{className:"".concat(n.password&&a.password?"mb-1":"mb-3"),children:Object(c.jsx)(J.a,{id:"password",placeholder:"Enter your password",name:"password",type:"password",value:t.password,onChange:r,onBlur:i,onKeyDown:function(e){"Enter"===e.key&&o()},className:n.password&&a.password?"text-input error":"text-input"})}),n.password&&a.password&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.password}),""!==u.msg&&Object(c.jsx)("div",{className:"text-danger",children:u.msg}),Object(c.jsx)(k.a,{block:!0,variant:"dark",onClick:o,disabled:s,children:"Submit"})]})}})})]})})})})})]})};var fe=function(e){var t=e.prevSection,a=e.formData,s=e.setHome,r=e.setValid,o=Object(n.useState)(!1),l=Object(i.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(!1),x=Object(i.a)(b,2),p=x[0],v=x[1],w=Object(n.useState)({file:null,url:null}),C=Object(i.a)(w,2),B=C[0],D=C[1];function S(){return E.apply(this,arguments)}function E(){return(E=Object(O.a)(m.a.mark((function e(){var t,c,n,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),e.prev=1,t=Object(h.a)({},a),console.log("starting register",t),!B.file){e.next=15;break}return console.log("starting image upload",B),(c=new FormData).append("file",B.file),c.append("upload_preset","catmeownity_user"),"https://api.cloudinary.com/v1_1/ryhuz/image/upload",e.next=12,L.a.post("https://api.cloudinary.com/v1_1/ryhuz/image/upload",c);case 12:n=e.sent,i=n.data.secure_url,t.image=i;case 15:return console.log("after image upload",t),e.next=18,L.a.post("/api/user/register",t);case 18:o=e.sent,localStorage.setItem("token",o.data.token),u(!1),r({valid:!0,refreshed:!1}),s(!0),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(1),console.log(e.t0.response),v(!0),u(!1);case 30:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}return console.log(a),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(N.a,{show:p,onHide:function(){return v(!1)},children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Error creating your account"})}),Object(c.jsx)(N.a.Body,{children:Object(c.jsx)(d.c,{to:"/",className:"btn btn-block btn-outline-danger",children:"Back to home"})})]}),Object(c.jsx)(I.a,{className:"p-3 mx-auto mt-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)("h5",{children:"Would you like to upload a profile photo?"}),Object(c.jsx)("hr",{}),B.file&&Object(c.jsx)("div",{className:"text-center profile-image-upload my-4",children:Object(c.jsx)(A.a,{src:B.url})}),Object(c.jsx)(f.a,{children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(y.a,{className:"border p-2 justify-content-between",children:[Object(c.jsx)(q.a,{className:"",type:"file",name:"image",onChange:function(e){e.target.files[0]&&D({file:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}}),Object(c.jsx)(y.a.Append,{children:B.file&&!j&&Object(c.jsx)("span",{className:"btn pr-3 pt-1 text-danger",onClick:function(){document.querySelector(".form-control-file").value=null,D({file:null,url:null})},children:"Remove upload"})})]})})}),Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:9,children:Object(c.jsxs)(f.a,{className:"justify-content-around mt-3",children:[Object(c.jsx)(g.a,{sm:6,children:Object(c.jsx)(k.a,{block:!0,variant:"outline-dark",onClick:function(){return t(!1)},children:"Back"})}),Object(c.jsx)(g.a,{sm:6,children:B.file?Object(c.jsx)(k.a,{block:!0,variant:"dark",onClick:S,disabled:j,children:"Upload and complete sign-up"}):Object(c.jsx)(k.a,{block:!0,variant:"danger",onClick:S,disabled:j,children:"Skip this step and complete sign-up"})})]})})}),j&&Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(K,{})})})]})})]})};var ge=function(e){var t=e.nextSection,a=e.setFormData,s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(n.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1];function h(){return(h=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),""===t){e.next=13;break}return e.prev=2,e.next=5,L.a.get("/api/user/check/".concat(t));case 5:e.sent.data.found?b("This email is already registered"):b(""),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:e.next=14;break;case 13:b("");case 14:l(!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(c.jsx)(I.a,{className:"p-3 mx-auto mt-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(w.a.Label,{children:Object(c.jsx)("h5",{children:"You're on your way to a wonderful world of cats!"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:8,children:Object(c.jsx)(me.a,{initialValues:{email:"",password:"",name:""},onSubmit:function(e){t(),a(e)},validationSchema:Oe.a().shape({email:Oe.b().email("Please enter a valid email").required("Please enter your email"),password:Oe.b().required("Please enter your password").min(6,"Your password needs to be at least 6 characters long"),name:Oe.b().required("Please enter your name")}),children:function(e){var t=e.values,a=e.touched,n=e.errors,s=e.isSubmitting,r=e.handleChange,i=e.handleBlur,l=e.handleSubmit;return Object(c.jsxs)(w.a,{onSubmit:l,children:[Object(c.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[o&&Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(A.a,{src:Q,width:"10%"})}),Object(c.jsx)(w.a.Control,{type:"text",name:"email",placeholder:"Email (you will use this to log in)",value:t.email,onChange:function(e){r(e),b("")},onBlur:function(e){i(e),function(e){h.apply(this,arguments)}(t.email)},onKeyDown:function(e){"Enter"===e.key&&l(t)}}),""!==u&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"text-danger",children:u})}),n.email&&a.email&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.email})})]}),Object(c.jsxs)(w.a.Group,{controlId:"formBasicPassword",children:[Object(c.jsx)(w.a.Control,{type:"password",name:"password",placeholder:"Password",value:t.password,onChange:r,onBlur:i,onKeyDown:function(e){"Enter"===e.key&&l(t)}}),n.password&&a.password&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"text-danger",children:n.password})})]}),Object(c.jsxs)(w.a.Group,{controlId:"formBasicName",children:[Object(c.jsx)(w.a.Control,{type:"text",name:"name",placeholder:"Name",value:t.name,onChange:r,onBlur:i,onKeyDown:function(e){"Enter"===e.key&&l(t)}}),n.name&&a.name&&Object(c.jsx)(w.a.Text,{children:Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.name})})]}),Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsxs)(g.a,{children:[Object(c.jsx)(k.a,{variant:"dark",block:!0,onClick:l,disabled:o||s||u,children:"Next Step"}),Object(c.jsxs)(f.a,{className:"justify-content-end mt-3",children:[Object(c.jsx)(g.a,{}),Object(c.jsx)(g.a,{sm:"auto",children:"Have an account?"})]}),Object(c.jsxs)(f.a,{bottom:"xs",children:[Object(c.jsx)(g.a,{}),Object(c.jsx)(g.a,{sm:"auto",children:Object(c.jsx)("a",{href:"/login",children:"Log in here"})})]})]})})]})}})})})]})})},ve=function(e){var t=e.setValid,a=Object(n.useState)(!1),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useState)(1),d=Object(i.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)({}),x=Object(i.a)(h,2),m=x[0],O=x[1];return r?Object(c.jsx)(j.a,{to:"/dashboard"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{className:"jumboacc",children:Object(c.jsx)("div",{className:"ml-5 pl-5 jumboheader",children:Object(c.jsx)("h1",{children:"Register page"})})}),Object(c.jsxs)(p.a,{children:[1===u&&Object(c.jsx)(ge,{nextSection:function(){return b(2)},setFormData:O}),2===u&&Object(c.jsx)(fe,{formData:m,prevSection:function(){return b(1)},setHome:o,setValid:t})]})]})},ye=a(411),we=function(){var e=localStorage.getItem("token"),t=Object(U.decode)(e);L.a.defaults.headers.common["x-auth-token"]=e;var a=Object(n.useState)(!1),s=Object(i.a)(a,2),r=s[0],o=s[1],l=Object(n.useState)(!1),j=Object(i.a)(l,2),u=j[0],b=j[1],x=Object(n.useState)({name:"",gender:"",ID:""}),p=Object(i.a)(x,2),v=p[0],y=p[1],k=Object(n.useState)({profile:{},found:!1}),B=Object(i.a)(k,2),D=B[0],S=B[1];function E(){return(E=Object(O.a)(m.a.mark((function a(c){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.put("/api/auth/user/".concat(t.user._id,"/unfavourite/").concat(c),{headers:{"x-auth-token":e}});case 2:o(!1),(n=D.profile.favourites).splice(n.findIndex((function(e){return e._id==c})),1),console.log("after",n),S(Object(h.a)(Object(h.a)({},D),{},{favourites:n}));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function P(){return(P=Object(O.a)(m.a.mark((function a(c){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.put("/api/auth/user/".concat(t.user._id,"/untrack/").concat(c),{headers:{"x-auth-token":e}});case 2:b(!1),(n=D.profile.trackedLocations).splice(n.findIndex((function(e){return e._id===c})),1),console.log(n),S(Object(h.a)(Object(h.a)({},D),{},{trackedLocations:n}));case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function F(e){return e.photos.length>0?e.photos.find((function(e){return e.isDefault})).image:R}return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/auth/user/".concat(t.user._id));case 3:a=e.sent,S({profile:a.data.user,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(N.a,{show:r,onHide:function(){return o(!1)},children:Object(c.jsx)(ae,{setConfirmUnfollow:o,name:v.name,gender:v.gender,unfollow:function(){return function(e){return E.apply(this,arguments)}(v.ID)}})}),Object(c.jsx)(N.a,{show:u,onHide:function(){return b(!1)},children:Object(c.jsx)(ee,{setConfirmUntrack:b,location:v.name,untrack:function(){return function(e){return P.apply(this,arguments)}(v.ID)}})}),D.found&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(C.a,{className:"jumboboard",children:[Object(c.jsxs)("h2",{className:"mb-auto jumbotitledown text-white",children:["Welcome back, ",D.profile.name,"!"]}),Object(c.jsx)("cite",{id:"cited",className:"text-white",children:"\u201cI'm not sure why I like cats so much..."}),Object(c.jsxs)(f.a,{id:"dash-preview",className:"justify-content-center",children:[Object(c.jsx)(g.a,{sm:1,children:Object(c.jsx)(A.a,{id:"dash-image",src:D.profile.image?D.profile.image:_,width:"100%"})}),Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(d.c,{to:"/profile/".concat(D.profile._id),id:"btnprofile",className:"btn btn-block btn-success",children:"View Your profile"})})]})]}),Object(c.jsx)("div",{className:"fav-track-dash",children:Object(c.jsxs)(ye.a,{className:"mx-5 py-4",children:[Object(c.jsx)(I.a,{className:"mb-3 mx-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(I.a.Title,{children:"Your favourite cats"}),Object(c.jsx)(f.a,{sm:1,md:1,lg:3,children:D.profile.favourites.length>0?Object(c.jsx)(c.Fragment,{children:D.profile.favourites.map((function(e){return Object(c.jsx)(g.a,{children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/cat/".concat(e._id),children:Object(c.jsx)(A.a,{src:F(e),width:"100%",className:"img-thumbnail"})}),Object(c.jsx)(I.a.Header,{className:"h5",children:Object(c.jsx)(d.c,{className:"text-muted text-decoration-none",to:"/cat/".concat(e._id),children:e.names[0]})}),Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)("div",{children:e.location.street}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{id:"btn-unfollow",className:"btn",onClick:function(){return t=e.names[0],a=e.gender,c=e._id,y({name:t,gender:a,ID:c}),void o(!0);var t,a,c},children:[Object(c.jsx)("i",{className:"fas fa-cat mx-2"}),"Unfollow this cat"]})})]})]})},e._id)}))}):Object(c.jsx)(g.a,{children:Object(c.jsxs)(I.a,{children:[Object(c.jsx)(I.a.Title,{children:"You haven't followed any cats :("}),Object(c.jsx)(I.a.Body,{children:"Search for one now!"})]})})})]})}),Object(c.jsx)(I.a,{className:"mb-3 mx-5",children:Object(c.jsxs)(I.a.Body,{children:[Object(c.jsx)(I.a.Title,{children:"Your tracked locations"}),Object(c.jsx)("div",{children:function(){if(D.profile.trackedLocations.length>0){var e=D.profile.trackedLocations,t=[];e.forEach((function(e){t.push(e.district.name)})),t=Array.from(new Set(t)).sort();var a=e.sort((function(e,t){var a=e.street,c=t.street;return a<c?-1:a>c?1:void 0}));return Object(c.jsx)(c.Fragment,{children:t.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:e}),Object(c.jsx)("hr",{}),Object(c.jsx)(f.a,{className:"mb-4",children:a.map((function(t){return Object(c.jsx)("div",{children:t.district.name===e&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(g.a,{children:Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(d.c,{id:"btn-follow-tracked",to:"/location/".concat(t._id),className:"btn",children:t.street}),Object(c.jsx)("div",{id:"btn-unfollow-tracked",className:"btn d-flex align-items-center",onClick:function(){return e=t.street,a=t._id,y({name:e,ID:a}),void b(!0);var e,a},children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})})},t._id)}))})]},e)}))})}return Object(c.jsx)(c.Fragment,{})}()})]})})]})}),Object(c.jsx)(I.a,{className:"bg-light text-white p-3 mx-auto",children:Object(c.jsx)(I.a.Body,{children:Object(c.jsx)(w.a,{className:"text-center",children:Object(c.jsx)(w.a.Label,{children:Object(c.jsx)(I.a.Title,{className:"text-center h-5"})})})})})]})]})},ke=a(254);var Ne=function(e){var t=e.component,a=e.valid,n=Object(ke.a)(e,["component","valid"]);return Object(c.jsx)(j.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return a.valid?Object(c.jsx)(t,Object(h.a)(Object(h.a)(Object(h.a)({},e),n),{},{valid:a})):!a.refreshed&&Object(c.jsx)(j.a,{to:"/"})}}))};var Ce=function(e){var t=e.setValid,a=e.valid;return setTimeout((function(){localStorage.removeItem("token"),t({valid:!1,refreshed:!1})}),1500),a.valid?Object(c.jsx)(p.a,{children:Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:4,children:Object(c.jsx)(K,{})})})}):Object(c.jsx)(j.a,{to:"/"})};var Ae=function(e){var t=e.loading,a=e.similar;return Object(c.jsxs)(p.a,{children:[t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{xs:3,children:Object(c.jsx)(K,{})})}),Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)("h6",{children:"Checking for similar cats"})})]}),a.length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{className:"justify-content-center ml-4 mb-3",children:Object(c.jsxs)("div",{children:["We found the following cats in the area with the same name.",Object(c.jsx)("br",{}),"Would you like to see if they might be the same cat?"]})}),Object(c.jsx)(f.a,{className:"ml-4",sm:3,children:a.map((function(e){return Object(c.jsxs)(g.a,{className:"border",children:[Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(d.c,{to:"/cat/".concat(e._id),children:e.names[0]})}),Object(c.jsx)(d.c,{to:"/cat/".concat(e._id),children:Object(c.jsx)(A.a,{src:(t=e.photos,0===t.length?R:t.find((function(e){return e.isDefault})).image),width:"100%",thumbnail:!0})})]},e._id);var t}))})]})]})};var Be=function(e){var t=e.locationID,a=e.setAdding,s=e.user,r=e.adding,o=e.setNewCatError,l=Object(n.useState)(!1),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)([]),x=Object(i.a)(b,2),p=x[0],v=x[1],N=Object(n.useState)({file:null,url:null}),C=Object(i.a)(N,2),B=C[0],D=C[1];function S(e){e.target.files[0]&&D({file:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}function I(){document.querySelector(".form-control-file").value=null,D({file:null,url:null})}function E(){return(E=Object(O.a)(m.a.mark((function e(a){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),""===a){e.next=22;break}return e.prev=2,c={name:a},e.next=6,L.a.post("/api/public/same/".concat(t,"/"),c);case 6:if(!(n=e.sent).data.found){e.next=13;break}return v(n.data.similarCats),u(!1),e.abrupt("return");case 13:return v([]),u(!1),e.abrupt("return");case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(2),u(!1),e.abrupt("return");case 22:u(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}function P(e){return F.apply(this,arguments)}function F(){return(F=Object(O.a)(m.a.mark((function e(c){var n,i,l,d,j,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(h.a)(Object(h.a)({},c),{},{userID:s.user._id,location:t}),e.prev=1,a(Object(h.a)(Object(h.a)({},r),{},{adding:!0})),!B.file){e.next=15;break}return(i=new FormData).append("file",B.file),i.append("upload_preset","catmeownity_cat"),"https://api.cloudinary.com/v1_1/ryhuz/image/upload",(l=L.a.create()).defaults.headers.common={},e.next=12,l.post("https://api.cloudinary.com/v1_1/ryhuz/image/upload",i);case 12:d=e.sent,j=d.data.secure_url,n.image=j;case 15:return e.next=17,L.a.post("/api/auth/cats/add",n);case 17:u=e.sent,a({adding:!1,added:!0,id:u.data.cat._id}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0.response),o(!0);case 25:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(me.a,{initialValues:{name:"",breed:"",colour:"",gender:"",sterilised:"",catDescription:"",imgDesc:""},onSubmit:function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:Oe.a().shape({name:Oe.b().required("Please give the cat a name").min(2,"Maybe a longer name"),breed:Oe.b().required("Please enter the cat's breed").min(4,"Maybe a longer name"),colour:Oe.b().required("Please enter the cat's colour").min(3,"Maybe a longer name"),catDescription:Oe.b().required("Please give the cat a description").min(5,"Maybe a longer description"),gender:Oe.b().required("Please choose the cat's gender"),sterilised:Oe.b().required("Please tell us if the cat is sterilised")}),children:function(e){var t=e.values,a=e.touched,n=e.errors,s=e.isSubmitting,i=e.handleChange,o=e.handleBlur,l=e.handleSubmit;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(w.a,{onSubmit:l,children:[Object(c.jsx)(w.a.Label,{children:Object(c.jsx)("h5",{children:"Cat details"})}),Object(c.jsxs)(w.a.Row,{children:[Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(w.a.Group,{className:"".concat(n.name&&a.name?"mb-1":"mb-3"),children:[Object(c.jsx)(w.a.Control,{type:"text",name:"name",placeholder:"Cat's name",onChange:i,onBlur:function(e){!function(e){E.apply(this,arguments)}(t.name),o(e)},className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.name})]}),Object(c.jsxs)(w.a.Group,{className:"".concat(n.breed&&a.breed?"mb-1":"mb-3"),children:[Object(c.jsx)(w.a.Control,{type:"text",name:"breed",placeholder:"Cat's breed (e.g. Singapura, British Shorthair)",onChange:i,onBlur:o,className:n.breed&&a.breed?"text-input error":"text-input"}),n.breed&&a.breed&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.breed})]}),Object(c.jsxs)(w.a.Group,{className:"".concat(n.colour&&a.colour?"mb-1":"mb-3"),children:[Object(c.jsx)(w.a.Control,{type:"text",name:"colour",placeholder:"Cat's colour (e.g Calico, Brown Striped; comma separated)",onChange:i,onBlur:o,className:n.breed&&a.breed?"text-input error":"text-input"}),n.colour&&a.colour&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.colour})]}),Object(c.jsxs)(w.a.Group,{className:"".concat(n.gender&&a.gender?"mb-1":"mb-3"),children:[Object(c.jsxs)(w.a.Control,{as:"select",name:"gender",defaultValue:"Cat's gender",onChange:i,onBlur:o,className:n.gender&&a.gender?"text-input error":"text-input",children:[Object(c.jsx)("option",{disabled:!0,children:"Cat's gender"}),Object(c.jsx)("option",{children:"Male"}),Object(c.jsx)("option",{children:"Female"}),Object(c.jsx)("option",{children:"Not Sure"})]}),n.gender&&a.gender&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.gender})]}),Object(c.jsxs)(w.a.Group,{className:"".concat(n.sterilised&&a.sterilised?"mb-1":"mb-3"),children:[Object(c.jsxs)(w.a.Control,{as:"select",name:"sterilised",defaultValue:"Is it sterilised?",onChange:i,onBlur:o,className:n.sterilised&&a.sterilised?"text-input error":"text-input",children:[Object(c.jsx)("option",{disabled:!0,children:"Is it sterilised?"}),Object(c.jsx)("option",{children:"Yes"}),Object(c.jsx)("option",{children:"No"}),Object(c.jsx)("option",{children:"Not Sure"})]}),n.sterilised&&a.sterilised&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.sterilised})]})]}),Object(c.jsx)(g.a,{children:Object(c.jsx)(Ae,{loading:j,similar:p})})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)(w.a.Row,{children:[Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(w.a.Label,{children:[Object(c.jsx)("h5",{children:"Give a description of the cat"}),Object(c.jsx)("small",{children:"A short sentence telling us about it's personality!"})]}),Object(c.jsxs)(w.a.Group,{className:"".concat(n.catDescription&&a.catDescription?"mb-1":"mb-3"),children:[Object(c.jsx)(w.a.Control,{as:"textarea",name:"catDescription",placeholder:"This cat is cute and friendly",onChange:i,onBlur:o,className:n.catDescription&&a.catDescription?"text-input error":"text-input"}),n.catDescription&&a.catDescription&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:n.catDescription})]})]}),Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(w.a.Label,{children:[Object(c.jsx)("h5",{children:"Add a cat picture"}),Object(c.jsx)("small",{children:"optional"})]}),B.file&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"text-center profile-image-upload my-4",children:Object(c.jsx)(A.a,{src:B.url})}),Object(c.jsxs)(w.a.Group,{className:"".concat(""===t.imgDesc&&a.imgDesc?"mb-1":"mb-3"),children:[Object(c.jsx)(w.a.Control,{type:"text",name:"imgDesc",placeholder:"A short description about this picture",onChange:i,onBlur:o,className:""===t.imgDesc&&a.imgDesc?"text-input error":"text-input"}),B.file&&""===t.imgDesc&&a.imgDesc&&Object(c.jsx)("div",{className:"input-feedback text-danger",children:"Please enter a description of the picture"})]})]}),Object(c.jsxs)(y.a,{className:"border p-2 justify-content-between",children:[Object(c.jsx)(q.a,{className:"",type:"file",name:"image",onChange:S}),Object(c.jsx)(y.a.Append,{children:B.file&&Object(c.jsx)("span",{className:"btn pr-3 pt-1 text-danger",onClick:I,children:"Remove upload"})})]})]})]}),Object(c.jsx)("hr",{}),r.adding&&Object(c.jsx)(f.a,{className:"justify-content-center",children:Object(c.jsx)(g.a,{sm:2,children:Object(c.jsx)(K,{})})}),Object(c.jsx)(w.a.Row,{children:Object(c.jsx)(k.a,{block:!0,variant:"success",onClick:l,disabled:s||B.file&&""===t.imgDesc,children:"Add this cat"})})]})})}})})};var De=function(){var e=localStorage.getItem("token"),t=Object(U.decode)(e);L.a.defaults.headers.common["x-auth-token"]=e;var a=Object(j.h)().locationID,s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(n.useState)({street:"",district:"",locality:"",found:!1}),b=Object(i.a)(u,2),h=b[0],x=b[1],f=Object(n.useState)({adding:!1,added:!1,id:""}),g=Object(i.a)(f,2),v=g[0],y=g[1];return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/public/where/".concat(a));case 3:t=e.sent,x({street:t.data.location.street,district:t.data.location.district.name,locality:t.data.location.district.locality,found:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),v.added?Object(c.jsx)(j.a,{to:"/cat/".concat(v.id)}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a,{className:"bg-secondary",children:Object(c.jsx)("div",{className:"ml-5 pl-5",children:Object(c.jsx)("h1",{children:"Add a new cat"})})}),Object(c.jsxs)(p.a,{children:[Object(c.jsx)(c.Fragment,{children:h.found&&Object(c.jsxs)("div",{className:"mb-4",children:["You are adding a cat to: ",Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)(d.c,{to:"/search",className:"mx-4",children:Object(c.jsx)("code",{children:h.locality})})," ",Object(c.jsx)("small",{children:">>"}),Object(c.jsx)(d.c,{to:"/search",className:"mx-4",children:Object(c.jsx)("code",{children:h.district})})," ",Object(c.jsx)("small",{children:">>"}),Object(c.jsx)(d.c,{to:"/location/".concat(a),className:"mx-4",children:Object(c.jsx)("code",{children:h.street})})]})]})}),Object(c.jsx)("hr",{}),Object(c.jsx)(w.a.Label,{children:Object(c.jsx)("h5",{children:"Tell us more about this cat!"})}),Object(c.jsx)("hr",{}),Object(c.jsx)(Be,{setNewCatError:l,user:t,locationID:a,adding:v,setAdding:y})]}),Object(c.jsxs)(N.a,{show:o,onHide:function(){return l(!1)},children:[Object(c.jsx)(N.a.Header,{closeButton:!0,children:Object(c.jsx)(N.a.Title,{children:"Error creating adding the cat"})}),Object(c.jsx)(N.a.Body,{children:Object(c.jsx)(d.c,{to:"/location/".concat(a),className:"btn btn-block btn-outline-danger",children:"Back to cats"})})]})]})};var Se=function(){return Object(c.jsx)("div",{id:"footerz",className:"fixed-bottom",children:Object(c.jsxs)("div",{className:"d-flex justify-content-between pad-thai",children:[Object(c.jsx)("div",{children:Object(c.jsx)("small",{children:"\xa92020 CatMeownity - SSH - GA SEI 25"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("small",{children:["Found any bugs? Or want to learn more? ",Object(c.jsx)("a",{href:"mailto:shawn.wee90@hotmail.com",children:"Contact us"})]})})]})})};var Ie=function(){var e=[{question:"What is CatMeownity?",answer:"<p>CatMeownity is a community app for cat-lovers! You can use this app to discover, keep tabs on, or share your love for cats (or just a particular one) with others.</p>\n                <p>There are various functions for you to use such as tracking your favourite cats, adding photos for cats, and leaving descriptions/comments so others will have an insight\n                in to what this cat is like!</p>"},{question:"How do I find a cat?",answer:"<p>Finding a cat is simple! Click on the search button to view the locations with cats. They are sorted into Singapore's north, south, east, west, north-east, and north-west.</p>\n            <p>Once there, you will be shown the various districts as well as the locations in that district. Select your location and you can see all the cats who live there.</p>"},{question:"I can't find the cat I'm looking for. How do I add him/her?",answer:"<p>First, make sure that you are searching in the correct locality, district, and location. If the cat isn't there, click the \"Add A New Cat\" button.</p>\n            <p>You will be asked to fill in the cat's details, and you can also upload a photo for your furry friend. If there are any cats who happen to have the same name, you will be\n            prompted to check if they are indeed the same cat!</p>"},{question:"I can't find the location I'm looking for. What do I add it?",answer:'<p>First, make sure that you are searching in the correct locality and district. You can also check other districts in the locality as you location might\n            be in between 2 districts.\n            </p>\n            <p>If your location is not there, you can select the district to which it belongs and click the "Add It Here" button. Simply key in the name of your district and voil\xe0!</p>'},{question:"How do I tell other people about a particular cat?",answer:"<p>Once we bond with a cat, what better feeling is there than to share that bond with other cat-lovers!</p>\n            <p>Go over to the cat's profile by searching for it, or from your list of tracked cats on your dashboard.</p>\n            <p>Scroll down to the comments tab to see all the comments/descriptions that have been left for this cat. There is a field where you can include your own description\n                of the cat. Just write your comment and click add, and it will be displayed on the cat's page for all to see!</p>\n            <p className=\"font-italic\">You will need to be logged in for this feature</p>"},{question:"Can I add more photos of a cat?",answer:'<p>Go over to the cat\'s profile by searching for it, or from your list of tracked cats on your dashboard.</p>\n            <p>Scroll down to the photos tab to see all the of this cat.</p>\n            <p>Click on the "Add A New Photo" button and choose a photo of the cat to upload. Remember to add a short description of the photo! Click upload to upload the photo.</p>\n            <p className="font-italic">You will need to be logged in for this feature</p>'},{question:"Can I change the location of a cat?",answer:"<p>Not right now, but we are working on that!</p>\n            <p>It is not recommended to move a stray cat as cats are very territorial. You might upset the balance of cat territories and it might lead to a cat war! The cat\n                might also not be able to adjust to it's new surroundings.</p>"},{question:"How can I let others know that I've fed the cat?",answer:'<p>On the cat\'s profile, scroll down to the feeding tab. This will show the last 3 times users have fed this cat. Use this to decide when and what to feed the cat!</p>\n            <p>Click on the "Fed This Kitty?" button to log your feeding of the cat. Remember to leave short description of what you fed it!</p>\n            <p className="font-italic">You will need to be logged in for this feature</p>'},{question:"How do I change the cat's details?",answer:'<p>On the cat\'s profile, click on the "Edit" button below the cat\'s details. You can add or remove the cat\'s different names and colours, change it\'s breed and gender.</p>\n            <p>Click on the "Update" button to save the changes!</p>\n            <p className="font-italic">You will need to be logged in for this feature</p>'},{question:"How do I edit my profile?",answer:'<p>Go to your profile from the dashboard. Click on the "Edit" button below your details and edit them.</p>\n            <p>Click on the "Update" button to save the changes!</p>\n            <p className="font-italic">You will need to be logged in for this feature</p>'},{question:"How do I view my favourite cats and tracked locations?",answer:'<p>Go to your dashboard, and you can see your favourite cats and tracked locations!</p>\n            <p>To add a cat to your favourites, simply go to the cat\'s profile and click on the "Follow This Cat" button. You can also unfollow a favourite cat here, or do it on your dashboard</p>\n            <p>To track a location, go to Search and search for the location you want to track. Click on the "Track" button to add it to your tracked locations! You can also untrack a location here, or do it on your dashboard!</p>\n            <p className="font-italic">You will need to be logged in for this feature</p>'},{question:"I haven't seen a particular cat in a while. What should I do?",answer:"<p>Hopefully it's nothing serious. Talk to the others in your cat community - maybe they will know. Someone might also have left a comment as to whether they are \n            at the vet, or have been adopted.</p>\n            <p>If you are really worried and would like to notify the community, you can click on the \"Haven't Seen This Kitty Lately?\" button on the cat profile page. This will put up\n            a missing notice that other users can see.</p>"}];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(C.a,{className:"text-center jumboboard text-white",children:[Object(c.jsx)("h1",{children:"Help Page"}),Object(c.jsx)("p",{className:"text-muted",children:"Can't figure out how to use CatMeownity?"})]}),Object(c.jsx)(p.a,{className:"my-5",children:Object(c.jsx)("div",{className:"h5",children:e.map((function(e,t){return Object(c.jsx)("div",{className:"my-3",children:Object(c.jsx)("a",{className:"text-muted",href:"#".concat(e.question.split(" ").join("-")),children:Object(c.jsx)("li",{className:"my-2",children:e.question})})},t)}))})}),Object(c.jsx)("hr",{}),Object(c.jsx)(p.a,{children:Object(c.jsx)("div",{children:e.map((function(e,t){return Object(c.jsxs)("div",{className:"my-5",children:[Object(c.jsx)("a",{className:"anchor",id:"".concat(e.question.split(" ").join("-"))}),Object(c.jsx)("div",{children:Object(c.jsx)("h4",{children:e.question})}),Object(c.jsx)(p.a,{dangerouslySetInnerHTML:{__html:e.answer}})]},t)}))})})]})},Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAG4ElEQVRYR8VXa2wc1RX+zszsw7trx16vn2ASxwmQVE4aZe24BNI2VE0MXreIPEolWgl+FEJLQUWtEFUVoSK1qlApqC7iRyqBVJoEBPIah1RQ2gB52Q7gtFYax3YgwV4767Wz6314d+ae6s54/dyNAVH1/JqZe+453z33O48h/J+FpH/uDvhAHAApZ7GpvYcI/L/AxQzCB62bwaIeTEHyB8MWgK7AE5lw7Nea1w1SaRCM51GoPE83t8e+DCB8rrUQMfEACA+wwav1iThspYW/pIbgUyYA4/gdf5k6deEesmtwri6HraxQfg4DeBKbnW1Eh40vAoR5t4qe1D4AvwLgy4zFkBoaBacNeLaseVm9pfP7VgRO7DwYPTm4J+vEXlUMZ105QAQwukG4l/zBc58HBHcHbgbjJRD8YEZyYAyZkclZE0VNaw7R1zr3Zjnwx+jx/n0wxKyCraIIBTdWWe+MGAi7yB/8W1aBTzYXgdlrvhNFqOlIdHatO/BtAIcBFMlvyXMjyFyZXQZUBUW3rG0jf/ChLAceifd+8nsjmjRtOFb6wLoBxe2AvWLFjF1OAfgdCBvB1ACgUrrOLgIIgbgLjF6AHgPglGvp0CREMgNSFUx/LG8VUFe44K6veZQags9YAE7deVvqk/Fj6csRC0BtGRzXeyFSGShOW97Ip0NXASFgry7Jq5O1MX0pgumLVyz7N5RK+9toyxvvWgDe+YbTEGo43nvJLd81XyFc66qXGOWMAX0ykSUp0sMTYEPAUVNq6mauxKAVu0A2dcneRN+n0MenzO+uDTckNEUvpW/+I5UNIbirpTN2aqBZOnGurYS9Mhv6OVvSWbxnCO7NtWZI5wNgXWDqzBA8M2uLEaRHJpG6MApyaPD4695UGoPNJn3miNP6YGpgtE2ilyHKJ8n+ELRitxmF+QAyY1Ho0SQK1lTk3Ss5wILhrC3fR/72Py0EcPqOSpEWlxWHpprpl0cy4RiMyQScayoWAEj1j0ItccHmM2tIbmGWNUAnG9VQY2doAQCTC90t5wFam98CYMSnMT04Bld9zQIA8bOXzNqhuhzX2i69nCd/x01ZpbkrONm6ARp/tMxuMz1TF8NmqOdfgbwaZ20ZSFtKwCU2ddpITe29C6/gTOAXEPjNcgDmr1sAGI4aqx59duHHyd9h+ppHwpbDAO3KZ0QwoCyihoyG7JuL0y6X7kK7/Ar5O3YvAhD4N4D1uQA8+1oUfz4aR32tDW0Pe+EpUHLijCUEHnougrNDGdzf7MGPv5OXkH3kD35lFoDZp3sCskq4FluenBLY+khI9hNTnvxhMXZtW6Jmrh36Zxz7X7xqPstoHX+2EkWuHGAZSfiDHiIIqxJ+dFc5MvpormNldMbtPx9F+KrVqA48VoqmdbmZfqJvGvc/PW7qlRUreOu3FbBpeVI6RdfRre3DFoCe1g3g/BkwFNLx+vsJbKyzY/tXzR6TV97+IIWzQ2l8d6sLqyq0/IrC2ESNnR9aAM60+iG467Oz+MvQNJrI33nKBJD5z1O3qyLxFrQVgOK0BhGRAYwpIBMGpUcAIbvx5xDFCbZXATYfoHoAxQaTSNKOfhVkd32L6p5424rASOcPEO06wPqECkPOBDLn7NZGacBeDYocBXSrXRsxDZGD1RApq+goTgPe7w1D9egWQs0L9u4A0sPmAcyDiLSV9WoBSCsxULTlPqra+eK8OhA4A2DT0jOqYEWDOSjLqIChR2wIv1QDGDPbVYbv3kvQvHKdzNPKxCIhAeUYJ5k/pIYO09ccgNMte6HQy9C8xAV1gOM6QCsGWBabaXlOYKoXlOgzMYqEirEXVprP5T/6GEqB5Yhd6wHPBqkBkAMgFdAngelPQckBGUWG4HuosePgQgDDR7exMX4YIlOOZD+QugzSJyxDeeRfp8thCMLGppwZPLNLAWslgPN6oED2OW2MbL7dVL3j2CwADh3dy8yPGkL8TBtu2wqSPSF/T5ZO3+kvw7EBH3RDQcPKCJrXjcJpu9b0LhlIj+tVD76nKsrTgugZrXLHXy0S8iEV6GOi/eZxuStwNwgHslOt/Hbg5Co4NQM2VaAvtAI3VUSxfe0V2DWB9wdLceJiKeqrrCoYijrx8NcvzD9CFIz7qCH4quVvvwKsJ6I9WRYtjTF3N9eBtOfAMEenWErDwLjbPPFqXxxel2T1nEQSdgyG3VCIsao0MbdOOALWf0L+IwO5bjL/6DOjzd0ttwL4KYgCYCw3bVi7CNNgDgL4A/k73stLovlZcC0lM2zv3lkCt7ITgrcD1AjwjQDN1GX5z0DnIfg0NPo74uJNuu0NyeBlZdkI5LPAh3arWJ2yfggGnRO054v9P/4XWN7fP41kAwUAAAAASUVORK5CYII=";var Pe=function(){var e=Object(n.useState)({valid:!1,refreshed:!0}),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("token");null!==e&&Object(U.decode)(e).user?s({valid:!0,refreshed:!1}):s({valid:!1,refreshed:!1})}()}),[]),Object(c.jsxs)(d.a,{basename:"/app",children:[a.valid?Object(c.jsxs)(o.a,{fixed:"top",expand:"lg",className:"thewholenavbar topnav py-2",children:[Object(c.jsx)(d.c,{id:"catmeownity-navbar",className:"navbar-brand",to:"/",children:Object(c.jsx)("img",{className:"logo-nav",src:Ee,width:"40",alt:"CatMeownity"})}),Object(c.jsx)("h5",{className:"mt-2 pt-1",children:"CatMeownity"}),Object(c.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(l.a,{className:"ml-auto",children:[Object(c.jsx)(d.c,{to:"/dashboard",id:"dashie",className:"btn mx-2",children:"Dashboard"}),Object(c.jsx)(d.c,{to:"/search",id:"search",className:"btn mx-2",children:"Search"}),Object(c.jsx)(d.c,{to:"/logout",id:"logout",className:"btn mx-2",children:"Log Out"}),Object(c.jsx)(d.c,{to:"/help",className:"btn mx-2",children:Object(c.jsx)("i",{className:"fas fa-question-circle"})})]})})]}):Object(c.jsxs)(o.a,{fixed:"top",expand:"lg",className:"thewholenavbar topnav py-2",children:[Object(c.jsx)(d.c,{id:"catmeownity-navbar",className:"navbar-brand",to:"/",children:Object(c.jsx)("img",{className:"logo-nav",src:Ee,width:"40",alt:"CatMeownity"})}),Object(c.jsx)("h5",{className:"mt-2 pt-1",children:"CatMeownity"}),Object(c.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(l.a,{className:"ml-auto",children:[Object(c.jsx)(d.b,{className:"mx-2 btn",id:"login",to:"/login",children:"Log In"}),Object(c.jsx)(d.b,{className:"mx-2 btn",id:"register",to:"/register",children:"Register"}),Object(c.jsx)(d.c,{to:"/search",id:"search",className:"btn mx-2",children:"Search"}),Object(c.jsx)(d.c,{to:"/help",className:"btn mx-2",children:Object(c.jsx)("i",{className:"fas fa-question-circle"})})]})})]}),Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(le,{})}),Object(c.jsx)(j.b,{path:"/search",children:Object(c.jsx)(xe,{})}),Object(c.jsx)(j.b,{path:"/location/:locationID",children:Object(c.jsx)(de,{validLogIn:a})}),Object(c.jsx)(j.b,{path:"/cat/:id",children:Object(c.jsx)(X,{})}),Object(c.jsx)(j.b,{path:"/profile/:id",children:Object(c.jsx)(ie,{})}),Object(c.jsx)(j.b,{path:"/login",children:Object(c.jsx)(pe,{setValid:s})}),Object(c.jsx)(j.b,{path:"/register",children:Object(c.jsx)(ve,{setValid:s})}),Object(c.jsx)(j.b,{path:"/help",children:Object(c.jsx)(Ie,{})}),Object(c.jsx)(Ne,{path:"/dashboard",component:we,valid:a}),Object(c.jsx)(Ne,{path:"/logout",component:Ce,valid:a,setValid:s}),Object(c.jsx)(Ne,{path:"/newcat/:locationID/",component:De,valid:a})]}),Object(c.jsx)(Se,{})]})},Fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,420)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(393),a(394),a(395);r.a.render(Object(c.jsx)(Pe,{}),document.getElementById("root")),Fe()}},[[396,1,2]]]);
//# sourceMappingURL=main.3cd2f6d4.chunk.js.map